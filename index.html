<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="description" content="Interactive economic dashboard for East Texas and US - GDP, CPI-U, Employment, and Sales Tax data">
    <meta name="theme-color" content="#CB6015">
    <title>Hibbs Monitor - East Texas Economic Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js" defer></script>
</head>
<body>
    <div class="page">
        <header class="topbar">
            <div class="brand">
                <div class="logo" aria-hidden="true">
                    <img src="images/utt_rgb_Level_1C_Hibbs_stacked-fullcolor (1).png" alt="UT Tyler Hibbs Institute logo" style="width: 100%; height: auto; object-fit: contain;">
                </div>
                <div>
                    <p class="eyebrow">Economic Analysis Dashboard</p>
                    <h1>Hibbs Monitor</h1>
                </div>
            </div>
            <div class="top-actions">
                <div class="social-links" style="display: flex; gap: 12px; align-items: center;">
                    <a href="https://www.uttyler.edu/academics/colleges-schools/business/centers/hibbs-institute/" target="_blank" rel="noopener noreferrer" aria-label="Hibbs Institute Website" style="color: #0f172a; text-decoration: none; font-size: 20px;" title="Visit Hibbs Institute Website">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                    </a>
                    <a href="https://www.linkedin.com/company/hibbs-institute-for-business-and-economic-research/posts/?feedView=all" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn" style="color: #0f172a; text-decoration: none; font-size: 20px;" title="Follow us on LinkedIn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                    </a>
                </div>
                <a class="link" href="https://fred.stlouisfed.org/" target="_blank" rel="noreferrer">FRED</a>
            </div>
        </header>

        <main>
            <section class="hero">
                <div>
                    <p class="eyebrow">East Texas & US Economic Dashboard</p>
                    <h2>Monitor Economic Indicators for Tyler MSA and the United States</h2>
                    <p class="lede">Track national economic indicators (GDP, inflation, unemployment, mortgage rates) alongside Tyler MSA regional data (employment, sales tax, median home prices) and Texas state tax collections. All data sourced from Federal Reserve Economic Data (FRED), Texas Comptroller, and Freddie Mac.</p>
                    <div class="controls" aria-label="Year range controls">
                        <label for="startYear">From</label>
                        <input type="number" id="startYear" min="1947" max="2099" value="2023" aria-label="Start Year">
                        <label for="endYear">to</label>
                        <input type="number" id="endYear" min="1947" max="2099" value="2025" aria-label="End Year">
                        <button id="updateBtn" class="primary">Update</button>
                    </div>
                    <p class="status" id="statusText" role="status" aria-live="polite">Loading data...</p>
                </div>
                <div class="stat-cards">
                    <div class="card">
                        <p class="eyebrow">Data Sources</p>
                        <h3>Official Sources</h3>
                        <p class="muted">Federal Reserve, Texas Comptroller, Freddie Mac</p>
                    </div>
                    <div class="card">
                        <p class="eyebrow">Coverage</p>
                        <h3>Regional & National</h3>
                        <p class="muted">Tyler MSA (9 cities) and US economy</p>
                    </div>
                    <div class="card">
                        <p class="eyebrow">Features</p>
                        <h3>Interactive</h3>
                        <p class="muted">Live data, filtering, CSV exports</p>
                    </div>
                </div>
            </section>

            <!-- Main Tab Navigation -->
            <nav class="main-tab-nav" aria-label="Main dashboard sections">
                <button class="main-tab-btn active" data-main-tab="us-indicators">US Indicators</button>
                <button class="main-tab-btn" data-main-tab="regional-indicators">Regional Indicators</button>
            </nav>

            <!-- US Indicators Sub-tabs -->
            <div class="sub-tabs-container active" id="us-indicators-tabs">
                <nav class="sub-tab-nav" aria-label="US Indicators sections">
                    <button class="sub-tab-btn active" data-tab="gdp">GDP</button>
                    <button class="sub-tab-btn" data-tab="cpi">CPI-U</button>
                    <button class="sub-tab-btn" data-tab="unemployment">Unemployment</button>
                    <button class="sub-tab-btn" data-tab="mortgage-rates">Mortgage Rates</button>
                </nav>
            </div>

            <!-- Regional Indicators Sub-tabs -->
            <div class="sub-tabs-container" id="regional-indicators-tabs">
                <nav class="sub-tab-nav" aria-label="Regional Indicators sections">
                    <button class="sub-tab-btn active" data-tab="employment">Employment</button>
                    <button class="sub-tab-btn" data-tab="sales-tax">Sales Tax</button>
                    <button class="sub-tab-btn" data-tab="median-home-price">Median Home Price</button>
                    <button class="sub-tab-btn" data-tab="state-revenue">State Revenue</button>
                </nav>
            </div>

            <!-- GDP Tab -->
            <div class="tab-content active" id="gdp">
                <section class="card">
                    <div class="section-header">
                        <div>
                            <h2>US Real GDP</h2>
                            <p class="chip gdp">FRED: A191RL1Q225SBEA</p>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button id="shareGDPBtn" class="ghost" title="Share chart">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle;">
                                    <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                                </svg>
                            </button>
                            <button id="downloadGDPBtn" class="ghost">Download CSV</button>
                        </div>
                    </div>
                    <div class="chart-card" style="margin-top: 20px;">
                        <h3>Quarterly Growth Rate (%)</h3>
                        <canvas id="gdpChart" role="img" aria-label="Real GDP Chart"></canvas>
                    </div>
                </section>
            </div>

            <!-- CPI Tab -->
            <div class="tab-content" id="cpi">
                <section class="card">
                    <div class="section-header">
                        <div>
                            <h2>US Inflation (CPI-U)</h2>
                            <p class="chip cpi">FRED: CPIAUCSL</p>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button id="shareCPIBtn" class="ghost" title="Share chart">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle;">
                                    <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                                </svg>
                            </button>
                            <button id="downloadCPIBtn" class="ghost">Download CSV</button>
                        </div>
                    </div>
                    <div class="chart-card" style="margin-top: 20px;">
                        <h3>Monthly Change (%)</h3>
                        <canvas id="cpiChart" role="img" aria-label="CPI-U Chart"></canvas>
                    </div>
                </section>
            </div>

            <!-- Unemployment Tab -->
            <div class="tab-content" id="unemployment">
                <section class="card">
                    <div class="section-header">
                        <div>
                            <h2>US Unemployment Rate</h2>
                            <p class="chip" style="background: #CB6015; color: white;">FRED: UNRATE</p>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button id="shareUnemploymentBtn" class="ghost" title="Share chart">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle;">
                                    <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                                </svg>
                            </button>
                            <button id="downloadUnemploymentBtn" class="ghost">Download CSV</button>
                        </div>
                    </div>
                    <div class="chart-card" style="margin-top: 20px;">
                        <h3>Monthly Unemployment Rate (%)</h3>
                        <canvas id="unemploymentChart" role="img" aria-label="Unemployment Rate Chart"></canvas>
                    </div>
                </section>
            </div>

            <!-- Employment Tab -->
            <div class="tab-content" id="employment">
                <section class="card">
                    <div class="section-header">
                        <div>
                            <h2>Regional Employment Trends</h2>
                            <p class="chip" style="background: linear-gradient(135deg, var(--gdp), var(--cpi)); color: white;">Tyler MSA & Texas Non-Farm Payroll</p>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button id="shareEmploymentBtn" class="ghost" title="Share chart">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle;">
                                    <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                                </svg>
                            </button>
                            <button id="downloadEmploymentBtn" class="ghost">Download CSV</button>
                        </div>
                    </div>
                    <div class="chart-card" style="margin-top: 20px;">
                        <h3>Monthly Employment Growth Rate (%) - Tyler vs. Texas</h3>
                        <canvas id="employmentChart"></canvas>
                    </div>
                </section>
            </div>

            <!-- Sales Tax Tab -->
            <div class="tab-content" id="sales-tax">
                <section class="card">
                    <div class="section-header">
                        <div>
                            <h2>Tyler MSA Sales Tax Collections</h2>
                            <p class="chip" style="background: var(--gdp); color: white;">Texas Comptroller Data</p>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button id="shareSalesTaxBtn" class="ghost" title="Share chart">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle;">
                                    <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                                </svg>
                            </button>
                            <button id="downloadSalesTaxBtn" class="ghost">Download CSV</button>
                        </div>
                    </div>
                    <div class="chart-card" style="margin-top: 20px;">
                        <h3>Monthly Sales Tax Collections ($)</h3>
                        <p style="color: #64748b; font-size: 13px; margin-top: 8px;">Tyler, Lindale, Whitehouse, Bullard, Troup, Noonday, Arp, Winona, New Chapel Hill</p>
                        <canvas id="salesTaxChart"></canvas>
                    </div>
                </section>
            </div>

            <!-- Median Home Price Tab -->
            <div class="tab-content" id="median-home-price">
                <section class="card">
                    <div class="section-header">
                        <div>
                            <h2>Tyler MSA Median Listing Price Growth</h2>
                            <p class="chip" style="background: var(--cpi); color: white;">FRED: MEDLISPRIMM46340</p>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button id="shareMedianPriceBtn" class="ghost" title="Share chart">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle;">
                                    <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                                </svg>
                            </button>
                            <button id="downloadMedianPriceBtn" class="ghost">Download CSV</button>
                        </div>
                    </div>
                    <div class="chart-card" style="margin-top: 20px;">
                        <h3>Month-Over-Month Price Change (%)</h3>
                        <canvas id="medianPriceChart" role="img" aria-label="Median Home Price Chart"></canvas>
                    </div>
                </section>
            </div>

            <!-- State Revenue Tab -->
            <div class="tab-content" id="state-revenue">
                <section class="card">
                    <div class="section-header">
                        <div>
                            <h2>Texas Tax Collections by Category</h2>
                            <p class="chip" style="background: linear-gradient(135deg, var(--gdp), var(--cpi)); color: white;">Tax Collections Only - FY 2003-2025</p>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button id="shareRevenueBtn" class="ghost" title="Share chart">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle;">
                                    <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                                </svg>
                            </button>
                            <button id="downloadRevenueBtn" class="ghost">Download CSV</button>
                        </div>
                    </div>
                    <div class="revenue-controls" style="margin: 20px 0; display: flex; gap: 16px; align-items: center; flex-wrap: wrap;">
                        <div>
                            <label for="revenueYear" style="font-weight: 600; margin-right: 8px;">Fiscal Year (Sept-Aug):</label>
                            <select id="revenueYear" style="padding: 10px 14px; border-radius: 10px; border: 1px solid var(--border); background: white; font-weight: 600; font-family: inherit; font-size: 14px;">
                                <!-- Years will be populated by JavaScript -->
                            </select>
                        </div>
                        <div>
                            <label for="revenueMonth" style="font-weight: 600; margin-right: 8px;">Month:</label>
                            <select id="revenueMonth" style="padding: 10px 14px; border-radius: 10px; border: 1px solid var(--border); background: white; font-weight: 600; font-family: inherit; font-size: 14px;">
                                <!-- Months will be populated by JavaScript -->
                            </select>
                        </div>
                        <button id="updateRevenueBtn" class="primary" style="padding: 10px 20px;">Update Chart</button>
                    </div>
                    <div class="chart-card" style="margin-top: 20px;">
                        <h3 id="revenueChartTitle">Tax Collections Distribution by Category</h3>
                        <canvas id="revenueChart" style="max-height: 500px;"></canvas>
                    </div>
                </section>
            </div>

            <!-- Mortgage Rates Tab -->
            <div class="tab-content" id="mortgage-rates">
                <section class="card">
                    <div class="section-header">
                        <div>
                            <h2>US Mortgage Rates</h2>
                            <p class="chip" style="background: linear-gradient(135deg, var(--gdp), var(--cpi)); color: white;">Freddie Mac Primary Mortgage Market Survey</p>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button id="shareMortgageBtn" class="ghost" title="Share chart">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle;">
                                    <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                                </svg>
                            </button>
                            <button id="downloadMortgageBtn" class="ghost">Download CSV</button>
                        </div>
                    </div>
                    <div class="charts">
                        <div class="chart-card">
                            <h3>30-Year Fixed Rate Mortgage (%)</h3>
                            <canvas id="mortgage30Chart"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>15-Year Fixed Rate Mortgage (%)</h3>
                            <canvas id="mortgage15Chart"></canvas>
                        </div>
                    </div>
                </section>
            </div>

        </main>

        <footer>
            <p><strong>Hibbs Monitor</strong> — East Texas & US Economic Dashboard by UT Tyler Hibbs Institute</p>
            <p style="margin-top: 8px; font-size: 0.9rem;"><strong>Data Sources:</strong> Federal Reserve Economic Data (FRED) - GDP (A191RL1Q225SBEA), CPI-U (CPIAUCSL), Unemployment Rate (UNRATE), Median Home Price MoM (MEDLISPRIMM46340); Texas Comptroller of Public Accounts - State Tax Collections & Tyler MSA Sales Tax; Freddie Mac - Primary Mortgage Market Survey (30-year & 15-year rates); Bureau of Labor Statistics - Tyler MSA & Texas Employment Data</p>
            <p style="margin-top: 8px; font-size: 0.85rem; color: #64748b;">Tyler MSA includes: Tyler, Lindale, Whitehouse, Bullard, Troup, Noonday, Arp, Winona, and New Chapel Hill. Texas fiscal year runs September through August.</p>
        </footer>
    </div>

    <script src="employment-data.js"></script>
    <script src="mortgage-data.js?v=2"></script>
    <script src="revenue-data.js"></script>
    <script src="dashboard.js?v=32"></script>
</body>
</html>



